<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>rFold reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>rFold</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Fields">Fields</a></li>
<li><a href="#Methods">Methods</a></li>
</ul>


<h2>Classes</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><strong>Protein</strong></li>
  <li><a href="../classes/Chain.html">Chain</a></li>
  <li><a href="../classes/Residue.html">Residue</a></li>
  <li><a href="../classes/Dihedron.html">Dihedron</a></li>
  <li><a href="../classes/Hedron.html">Hedron</a></li>
  <li><a href="../classes/geom3d.html">geom3d</a></li>
  <li><a href="../classes/parsers.html">parsers</a></li>
  <li><a href="../classes/utils.html">utils</a></li>
</ul>
<h2>Topics</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../topics/README.md.html">README</a></li>
</ul>
<h2>Examples</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../examples/buildProtein.lua.html">buildProtein.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Class <code>Protein</code></h1>
<p>protein structure class for rFold</p>
<p>

</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#protein.new">protein.new (o)</a></td>
	<td class="summary">Protein class object initialiser (not a class method)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#protein.get">protein.get (id)</a></td>
	<td class="summary">find the Protein with this id or new Protein if it does not exist (not a class method)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#protein.stashId">protein.stashId (id)</a></td>
	<td class="summary">generate a new key for the data stored in protein.proteins for the passed id key.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#protein.rename">protein.rename (old, new)</a></td>
	<td class="summary">change the key for an entry in the protein.proteins table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#protein.drop">protein.drop (id)</a></td>
	<td class="summary">remove an entry from the protein.proteins table so garbage collector can free memory</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#protein.clean">protein.clean ()</a></td>
	<td class="summary">remove all entries from the protein.proteins table so garbage collector can free memory</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#protein.load">protein.load (t)</a></td>
	<td class="summary">add the passed table data to the protein specified (pdbid) in the table (not a class method - may create new Protein)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#protein.copyDSSP">protein.copyDSSP (src, dst)</a></td>
	<td class="summary">copy DSSP data from src protein object to dst protein object (not a class method)
 will fall over if protein objects do not otherwise match</td>
	</tr>
</table>
<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Protein.id">Protein.id</a></td>
	<td class="summary">4 position PDB identifier for this protein</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein.chains">Protein.chains</a></td>
	<td class="summary">array of chain objects indexed by chain ID</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein.chainOrder">Protein.chainOrder</a></td>
	<td class="summary">array of chain IDs indexed by integer order of chains in PDB file</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein.header">Protein.header</a></td>
	<td class="summary">pdb HEADER record if supplied</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein.title">Protein.title</a></td>
	<td class="summary">pdb TITLE record if supplied</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein.title">Protein.title</a></td>
	<td class="summary">pdb TITLE record if supplied</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein.compnd">Protein.compnd</a></td>
	<td class="summary">pdb COMPND record if supplied</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein.filename">Protein.filename</a></td>
	<td class="summary">location of file this protein data was read from</td>
	</tr>
</table>
<h2><a href="#Methods">Methods</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Protein:internalToAtomCoords">Protein:internalToAtomCoords ()</a></td>
	<td class="summary">compute atomCoords for already loaded internal coordinates; wrapper grouping several Protein: class methods</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:stats">Protein:stats ()</a></td>
	<td class="summary">return table of component counts for chains in protein similar to tostring()</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:countDihedra">Protein:countDihedra ()</a></td>
	<td class="summary">sum dihedron counts for chains</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:countDSSPs">Protein:countDSSPs ()</a></td>
	<td class="summary">sum dssp counts for chains</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:tosequence">Protein:tosequence ()</a></td>
	<td class="summary">generate sequence strings for chains in this protein</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:tostring">Protein:tostring ()</a></td>
	<td class="summary">generate descriptive string for Protein : id, sequence, counts of residues, DSSP entries, hedra and dihedra</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:writePDB">Protein:writePDB (noRemark, range)</a></td>
	<td class="summary">generate PDB format text data, adding HEADER, CAVEAT and END records to Chain:writePDB() result
  note Residue structures need dihedron data structures to write complete chain</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:writeInternalCoords">Protein:writeInternalCoords (noTitle, range)</a></td>
	<td class="summary">generate text data specifying hedra with length, angle, length ; dihedra with angle ; relevant PDB records for annotation and start coordinates</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:writeDb">Protein:writeDb (rfpg, update, src)</a></td>
	<td class="summary">write protein data to rfold database</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:reportDb">Protein:reportDb (rfpg)</a></td>
	<td class="summary">query database for info about this protein</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:dbLoad">Protein:dbLoad (rfpg)</a></td>
	<td class="summary">populate protein object from database using supplied pdb id</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:linkResidues">Protein:linkResidues ()</a></td>
	<td class="summary">trigger linking of residues, dihedrons and hedrons within chains</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:renderDihedra">Protein:renderDihedra ()</a></td>
	<td class="summary">trigger update of initial atom coordinates (dihedron coordinate space) in each dihedron according to dihedron angle</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:clearAtomCoords">Protein:clearAtomCoords ()</a></td>
	<td class="summary">delete protein space atom coordinate data throughout protein object</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:clearInternalCoords">Protein:clearInternalCoords ()</a></td>
	<td class="summary">delete internal coordinate data throughout protein object</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:atomsToInternalCoords">Protein:atomsToInternalCoords ()</a></td>
	<td class="summary">inverse of linkResidues() and renderDihedra() : from input atom coordinates, build complete hedra and dihedra</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:assembleResidues">Protein:assembleResidues ()</a></td>
	<td class="summary">trigger calculation/update of residue['backbone'] and residue['sidechain'] atom coordinates (protein coordinate space) by sequentially assembling dihedrons</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:setStartCoords">Protein:setStartCoords ()</a></td>
	<td class="summary">set N, CA, C coordinates (protein coordinate space) for first residue in each chain from DSSP data for residue if available</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Protein:report">Protein:report ()</a></td>
	<td class="summary">generate string indicating chain IDs and residues in each</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>
    Methods
    <dl class="function">
    <dt>
    <a name = "protein.new"></a>
    <strong>protein.new (o)</strong>
    </dt>
    <dd>
    Protein class object initialiser (not a class method)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">o</span>
         table with field 'id' = Brookhaven / RCSB PDB alphanumeric ID or similar
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        minimally initialised Protein object, object added to proteins list
    </ol>




</dd>
    <dt>
    <a name = "protein.get"></a>
    <strong>protein.get (id)</strong>
    </dt>
    <dd>
    find the Protein with this id or new Protein if it does not exist (not a class method)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">id</span>
         Brookhaven / RCSB PDB alphanumeric ID or similar
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        already existing or minimally initialised protein object
    </ol>




</dd>
    <dt>
    <a name = "protein.stashId"></a>
    <strong>protein.stashId (id)</strong>
    </dt>
    <dd>
    generate a new key for the data stored in protein.proteins for the passed id key.
 <br> new key of form <id>-<n> where n is number uch that <id>-<n> is available
 <br> enables re-loading file for line-by-line compare to generated daa for test (probably need prot:setStartCoords())


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">id</span>
         Brookhaven / RCSB PDB alphanumeric ID or similar
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        new key or nil if no entry exists for passed id
    </ol>




</dd>
    <dt>
    <a name = "protein.rename"></a>
    <strong>protein.rename (old, new)</strong>
    </dt>
    <dd>
    change the key for an entry in the protein.proteins table


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">old</span>
         old key
        </li>
        <li><span class="parameter">new</span>
         new key
        </li>
    </ul>





</dd>
    <dt>
    <a name = "protein.drop"></a>
    <strong>protein.drop (id)</strong>
    </dt>
    <dd>
    remove an entry from the protein.proteins table so garbage collector can free memory


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">id</span>
         key to drop from table
        </li>
    </ul>





</dd>
    <dt>
    <a name = "protein.clean"></a>
    <strong>protein.clean ()</strong>
    </dt>
    <dd>
    remove all entries from the protein.proteins table so garbage collector can free memory







</dd>
    <dt>
    <a name = "protein.load"></a>
    <strong>protein.load (t)</strong>
    </dt>
    <dd>
    add the passed table data to the protein specified (pdbid) in the table (not a class method - may create new Protein)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">t</span>
         table with field 'pdbid' and preferably chain identifier field 'chn', passed here as callback from file parser
        </li>
    </ul>





</dd>
    <dt>
    <a name = "protein.copyDSSP"></a>
    <strong>protein.copyDSSP (src, dst)</strong>
    </dt>
    <dd>
    copy DSSP data from src protein object to dst protein object (not a class method)
 will fall over if protein objects do not otherwise match


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">src</span>
         Protein object with DSSP data
        </li>
        <li><span class="parameter">dst</span>
         Protein object to get DSSP data
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Fields"></a>Fields</h2>

    <dl class="function">
    <dt>
    <a name = "Protein.id"></a>
    <strong>Protein.id</strong>
    </dt>
    <dd>
    4 position PDB identifier for this protein


    <ul>
        <li><span class="parameter">id</span>
         string
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Protein.chains"></a>
    <strong>Protein.chains</strong>
    </dt>
    <dd>
    array of chain objects indexed by chain ID


    <ul>
        <li><span class="parameter">chains</span>
         array of chain objects
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Protein.chainOrder"></a>
    <strong>Protein.chainOrder</strong>
    </dt>
    <dd>
    array of chain IDs indexed by integer order of chains in PDB file


    <ul>
        <li><span class="parameter">chainOrder</span>
         array of char chain IDs
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Protein.header"></a>
    <strong>Protein.header</strong>
    </dt>
    <dd>
    pdb HEADER record if supplied


    <ul>
        <li><span class="parameter">header</span>
         string
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Protein.title"></a>
    <strong>Protein.title</strong>
    </dt>
    <dd>
    pdb TITLE record if supplied


    <ul>
        <li><span class="parameter">title</span>
         string
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Protein.title"></a>
    <strong>Protein.title</strong>
    </dt>
    <dd>
    pdb TITLE record if supplied


    <ul>
        <li><span class="parameter">title</span>
         string
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Protein.compnd"></a>
    <strong>Protein.compnd</strong>
    </dt>
    <dd>
    pdb COMPND record if supplied


    <ul>
        <li><span class="parameter">compnd</span>
         string
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Protein.filename"></a>
    <strong>Protein.filename</strong>
    </dt>
    <dd>
    location of file this protein data was read from


    <ul>
        <li><span class="parameter">filename</span>
         string
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Methods"></a>Methods</h2>

    <dl class="function">
    <dt>
    <a name = "Protein:internalToAtomCoords"></a>
    <strong>Protein:internalToAtomCoords ()</strong>
    </dt>
    <dd>
    compute atomCoords for already loaded internal coordinates; wrapper grouping several Protein: class methods







</dd>
    <dt>
    <a name = "Protein:stats"></a>
    <strong>Protein:stats ()</strong>
    </dt>
    <dd>
    return table of component counts for chains in protein similar to tostring()



    <h3>Returns:</h3>
    <ol>

        table of [chain id][residue count, dssp count, dihedron count, hedron count]
    </ol>




</dd>
    <dt>
    <a name = "Protein:countDihedra"></a>
    <strong>Protein:countDihedra ()</strong>
    </dt>
    <dd>
    sum dihedron counts for chains



    <h3>Returns:</h3>
    <ol>

        total number of dihedra loaded for protein
    </ol>




</dd>
    <dt>
    <a name = "Protein:countDSSPs"></a>
    <strong>Protein:countDSSPs ()</strong>
    </dt>
    <dd>
    sum dssp counts for chains



    <h3>Returns:</h3>
    <ol>

        total number of dssp entries loaded for protein
    </ol>




</dd>
    <dt>
    <a name = "Protein:tosequence"></a>
    <strong>Protein:tosequence ()</strong>
    </dt>
    <dd>
    generate sequence strings for chains in this protein



    <h3>Returns:</h3>
    <ol>

        chain sequence strings, 1n separated
    </ol>




</dd>
    <dt>
    <a name = "Protein:tostring"></a>
    <strong>Protein:tostring ()</strong>
    </dt>
    <dd>
    generate descriptive string for Protein : id, sequence, counts of residues, DSSP entries, hedra and dihedra



    <h3>Returns:</h3>
    <ol>

        descriptive string
    </ol>




</dd>
    <dt>
    <a name = "Protein:writePDB"></a>
    <strong>Protein:writePDB (noRemark, range)</strong>
    </dt>
    <dd>
    generate PDB format text data, adding HEADER, CAVEAT and END records to Chain:writePDB() result
  note Residue structures need dihedron data structures to write complete chain


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">noRemark</span>
         boolean do not write REMARK records indicating this is RFOLD output
        </li>
        <li><span class="parameter">range</span>
         start:fin filter for residues to output
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        string containing PDB format text (complete)
    </ol>




</dd>
    <dt>
    <a name = "Protein:writeInternalCoords"></a>
    <strong>Protein:writeInternalCoords (noTitle, range)</strong>
    </dt>
    <dd>
    generate text data specifying hedra with length, angle, length ; dihedra with angle ; relevant PDB records for annotation and start coordinates


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">noTitle</span>
         do not write TITLE line if true; DSSP does not output so compare fails
        </li>
        <li><span class="parameter">range</span>
         start:fin filter for residues to output
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        string containing structure specification in internal coordinates (complete)
    </ol>




</dd>
    <dt>
    <a name = "Protein:writeDb"></a>
    <strong>Protein:writeDb (rfpg, update, src)</strong>
    </dt>
    <dd>
    write protein data to rfold database


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">rfpg</span>
         open database handle
        </li>
        <li><span class="parameter">update</span>
         optional flag, if false (default at protein level only) silently skip if [pdbid,chain,filename] entry exists already in pdb_chain
        </li>
        <li><span class="parameter">src</span>
         string to put in pdb_chain:src column
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Protein:reportDb"></a>
    <strong>Protein:reportDb (rfpg)</strong>
    </dt>
    <dd>
    query database for info about this protein


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">rfpg</span>
         open database handle
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        report string for printing
    </ol>




</dd>
    <dt>
    <a name = "Protein:dbLoad"></a>
    <strong>Protein:dbLoad (rfpg)</strong>
    </dt>
    <dd>
    populate protein object from database using supplied pdb id


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">rfpg</span>
         open database handle
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Protein:linkResidues"></a>
    <strong>Protein:linkResidues ()</strong>
    </dt>
    <dd>
    trigger linking of residues, dihedrons and hedrons within chains







</dd>
    <dt>
    <a name = "Protein:renderDihedra"></a>
    <strong>Protein:renderDihedra ()</strong>
    </dt>
    <dd>
    trigger update of initial atom coordinates (dihedron coordinate space) in each dihedron according to dihedron angle







</dd>
    <dt>
    <a name = "Protein:clearAtomCoords"></a>
    <strong>Protein:clearAtomCoords ()</strong>
    </dt>
    <dd>
    delete protein space atom coordinate data throughout protein object







</dd>
    <dt>
    <a name = "Protein:clearInternalCoords"></a>
    <strong>Protein:clearInternalCoords ()</strong>
    </dt>
    <dd>
    delete internal coordinate data throughout protein object







</dd>
    <dt>
    <a name = "Protein:atomsToInternalCoords"></a>
    <strong>Protein:atomsToInternalCoords ()</strong>
    </dt>
    <dd>
    inverse of linkResidues() and renderDihedra() : from input atom coordinates, build complete hedra and dihedra







</dd>
    <dt>
    <a name = "Protein:assembleResidues"></a>
    <strong>Protein:assembleResidues ()</strong>
    </dt>
    <dd>
    trigger calculation/update of residue['backbone'] and residue['sidechain'] atom coordinates (protein coordinate space) by sequentially assembling dihedrons







</dd>
    <dt>
    <a name = "Protein:setStartCoords"></a>
    <strong>Protein:setStartCoords ()</strong>
    </dt>
    <dd>
    set N, CA, C coordinates (protein coordinate space) for first residue in each chain from DSSP data for residue if available







</dd>
    <dt>
    <a name = "Protein:report"></a>
    <strong>Protein:report ()</strong>
    </dt>
    <dd>
    generate string indicating chain IDs and residues in each



    <h3>Returns:</h3>
    <ol>

        string
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.3</a></i>
<i style="float:right;">Last updated 2017-04-06 12:45:34 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
